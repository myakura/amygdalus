<!doctype html>
<meta charset="utf-8">
<title>Custom toggle control</title>
<style>
  amygdalus-toggle {
    display: block;
    width: 2em;
    height: 1em;
    margin: 1em 0;
    background-color: #ccc;
  }
  amygdalus-toggle[selected] {
    background-color: seagreen;
  }
</style>
<body>

<amygdalus-toggle id="toggle1"></amygdalus-toggle>
<amygdalus-toggle id="toggle2" selected></amygdalus-toggle>
<amygdalus-toggle id="toggle3" selected=""></amygdalus-toggle>
<amygdalus-toggle id="toggle4" selected="true"></amygdalus-toggle>
<amygdalus-toggle id="toggle5" selected="false"></amygdalus-toggle>
<amygdalus-toggle id="toggle6" selected="ðŸŽ©"></amygdalus-toggle>

<script src="../js/AmygdalusToggle.js"></script>
<script>
  window.customElements.define('amygdalus-toggle', AmygdalusToggle)
</script>

<script>
  const allElements = document.querySelectorAll('amygdalus-toggle')
  const selectedElements = document.querySelectorAll('amygdalus-toggle[selected]')

  allElements.forEach((element, index) => {
    console.group(`test: ${element.id} is connected`)
    console.assert(element.isConnected, 'element is connected')
    console.groupEnd()
  })

  const toggle1 = document.querySelector('#toggle1')
  console.group(`test: connected element is focusable `)
  console.assert(toggle1.isConnected, `${toggle1.id} is connected`)
  console.assert(toggle1.tabIndex === 0, `${toggle1.id} is focusable`)
  console.groupEnd()

  selectedElements.forEach((element, index) => {
    console.group(`test: ${element.id} is selected`)
    console.assert(element.hasAttribute('selected'), `${element.id} has \`selected\` attribute`)
    console.assert(element.selected, `${element.id} is selected`)
    console.groupEnd()
  })

  const toggle6 = document.querySelector('#toggle6')
  toggle6.removeAttribute('selected')
  console.group(`test: ${toggle6.id} after removing \`selected\` attribute`)
  console.assert(!toggle6.hasAttribute('selected'), `${toggle6.id} doesn't have \`selected\` attribute`)
  console.assert(!toggle6.selected, `${toggle6.id} isn't selected`)
  console.groupEnd()

  toggle6.setAttribute('selected', 'again!')
  console.group(`test: ${toggle6.id} after regaining \`selected\` attribute`)
  console.assert(toggle6.hasAttribute('selected'), `${toggle6.id} has \`selected\` attribute`)
  console.assert(toggle6.selected, `${toggle6.id} is selected`)
  console.assert(toggle6.getAttribute('selected') === 'again!', `${toggle6.id} has \`selected\` attribute and the value is \`again!\``)
  console.groupEnd()

  toggle6.selected = true
  console.group(`test: ${toggle6.id} after setting \`selected\` property to \`true\``)
  console.assert(toggle6.hasAttribute('selected'), `${toggle6.id} has \`selected\` attribute`)
  console.assert(toggle6.selected, `${toggle6.id} is selected`)
  console.assert(toggle6.getAttribute('selected') !== 'again!', `${toggle6.id} has \`selected\` attribute but the value isn't \`again!\``)
  console.groupEnd()


</script>